PRINSEQ
=======

PReprocessing and INformation of SEQuence data (http://prinseq.sourceforge.net)

PRINSEQ will help you to preprocess your genomic or metagenomic sequence data in
FASTA or FASTQ format.


LITE VERSION
------------

The lite version is a standalone perl script (prinseq-lite.pl) that does not
require any non-core perl modules for processing.

The used modules are:

   Getopt::Long
   Pod::Usage
   File::Temp
   Fcntl
   Digest::MD5
   Cwd
   List::Util

To run the lite version, you can either use "perl prinseq-lite.pl [options]" or
rename the "prinseq-lite.pl" into "prinseq-lite", add the execution mode
("chmod +x prinseq-lite") and use "prinseq-lite [options]".

The available options are processed in the following order: seq_num, trim_left,
trim_right, trim_left_p, trim_right_p, trim_qual_left, trim_qual_right,
trim_tail_left, trim_tail_right, trim_ns_left, trim_ns_right, trim_to_len,
min_len, max_len, range_len, min_qual_score, max_qual_score, min_qual_mean,
max_qual_mean, min_gc, max_gc, range_gc, ns_max_p, ns_max_n, noniupac,
lc_method, derep, seq_id, seq_case, dna_rna, out_format


GRAPHS VERSION
--------------

The graphs version is a standalone perl script (prinseq-graphs.pl) that
generates graphs and HTML report files. The input is generated by the lite
version.

The used modules are:

   Getopt::Long
   Pod::Usage
   File::Temp
   Fcntl
   Cwd
   JSON
   Cairo
   Statistics::PCA
   MIME::Base64

Due to issues with the Statistics::PCA module on certain platforms, a graphs
version without this module is additionally provided (prinseq-graphs-noPCA.pl).

To run the graphs version, you can either use "perl prinseq-graphs.pl [options]"
or rename the "prinseq-graphs.pl" into "prinseq-graphs", add the execution mode
("chmod +x prinseq-graphs") and use "prinseq-graphs [options]".

If you have trouble installing the required modules or want to see an output
example report, upload the graph data file at:
http://edwards.sdsu.edu/prinseq -> Choose "Get Report"


WEB VERSION
-----------

The web version runs the lite and graphs version in the backend. Therefore, all
dependencies for those apply to the web version.

Additional Perl modules required are:

   CGI
   File::Path
   IO::Uncompress::AnyUncompress
   LWP::Simple
   File::Copy
   File::Basename

SETUP:
1. Copy the files in the html directory to your html directory

2. Copy the files in the cgi-bin directory to your cgi-bin directory

3. Change the forwarding URL in the index.html file in the html directory.

4. Adjust the config file (prinseqConfig.pm) if necessary (defaults should work
   on most systems).

5. Example data is commented out. If you want to show example data, process data
   using the web version, put the example Data IDs in the config file and
   uncomment the code in the 'access' function to show the example data in the
   interface.

6. Use Firebug (http://getfirebug.com/) or similar to find any other issues such
   as links and change them according to your system setup.

7. Setup a cronjob (or similar) to clean the output directory and store the data
   for the stats in the archive directory.

8. To update the web version with a new lite or graphs version, simply replace
   the files in the cgi-bin directory with the new ones.

Note:
The image files are by default written to a directory which your Apache is
configured to execute files from (cgi-bin) and is therefore trying to execute
image files. Search for a file called "httpd.conf" on your web server. In that
file, you have to specify that images should not be executed. Here is a copy of
this part from my config file. The important line starts with "AddHandler" and
all file extensions specified will not be executed.

ScriptAlias /cgi-bin/ /var/www/cgi-bin/
        <Directory "/var/www/cgi-bin">
                AllowOverride None
                Options +ExecCGI -MultiViews +SymLinksIfOwnerMatch
                AddHandler default-handler .html .jpg .png .gif .zip .gz .fasta .qual .fastq .txt
                Order allow,deny
                Allow from all
        </Directory>


BUG REPORTS
-----------

If you find a bug please report it at
http://groups.google.com/group/EdwardsLabTools/
so that we can make PRINSEQ better.


MAILING LIST
------------

If you want to receive emails for new releases and updates, please sign up for
the mailing list at https://lists.sourceforge.net/lists/listinfo/prinseq-news


COPYRIGHT AND LICENSE
---------------------

Copyright (C) 2010-2013  Robert SCHMIEDER

This program is free software: you can redistribute it and/or modify it under
the terms of the GNU General Public License as published by the Free Software
Foundation, either version 3 of the License, or (at your option) any later
version.

This program is distributed in the hope that it will be useful, but WITHOUT ANY
WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A
PARTICULAR PURPOSE.  See the GNU General Public License for more details.

You should have received a copy of the GNU General Public License along with
this program.  If not, see <http://www.gnu.org/licenses/>.
